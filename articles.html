<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>LinguaLab | 英语文章</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
</head>
<body>
  <!-- 页面头部导航栏 -->
  <header class="site-header">
    <div class="nav-wrap">
      <div class="container-1200 d-flex align-items-center justify-content-between">
        <a class="brand" href="english.html">LinguaLab</a>
        <nav class="nav-links">
          <a href="english.html">首页</a>
          <a href="vocab.html">背单词</a>
          <a href="audio.html">听音频</a>
          <a href="movies.html">看电影</a>
          <a href="articles.html" class="active">文章</a>
          <a href="courses.html">课程</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- 主要内容区域 -->
  <main class="container-1200 page-space">
    <div class="row">
      <!-- 左侧文章分类导航 -->
      <div class="col-md-3">
        <div class="card">
          <div class="card-header">文章分类</div>
          <div class="list-group list-group-flush">
            <a href="#" class="list-group-item list-group-item-action active" data-category="all">全部文章</a>
            <a href="#" class="list-group-item list-group-item-action" data-category="阅读技巧">阅读技巧</a>
            <a href="#" class="list-group-item list-group-item-action" data-category="听力训练">听力训练</a>
            <a href="#" class="list-group-item list-group-item-action" data-category="词汇积累">词汇积累</a>
            <a href="#" class="list-group-item list-group-item-action" data-category="习惯养成">习惯养成</a>
            <a href="#" class="list-group-item list-group-item-action" data-category="思维方式">思维方式</a>
          </div>
        </div>
      </div>

      <!-- 右侧文章列表区域 -->
      <div class="col-md-9">
        <div class="text-center mb-5">
          <h1 class="page-title">精选英语文章</h1>
          <p class="text-body-secondary lead mx-auto" style="max-width: 600px;">每篇文章配简短中文导读，帮助快速建立背景，再进行英文精读。</p>
        </div>

        <!-- 文章列表容器 -->
        <div class="row g-4" id="articlesContainer">
          <div class="col-md-6 col-lg-4 article-item" data-category="阅读技巧">
            <div class="card h-100 border-0 shadow-sm hover-lift">
              <div class="card-body d-flex flex-column">
                <span class="badge bg-primary mb-2">阅读技巧</span>
                <h5 class="card-title">Why Reading Matters</h5>
                <p class="text-body-secondary flex-grow-1">讲述阅读对语言与思维的提升作用。</p>
                <a class="btn btn-outline-primary mt-auto" href="article-reading.html">阅读全文</a>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 article-item" data-category="听力训练">
            <div class="card h-100 border-0 shadow-sm hover-lift">
              <div class="card-body d-flex flex-column">
                <span class="badge bg-success mb-2">听力训练</span>
                <h5 class="card-title">Learning by Listening</h5>
                <p class="text-body-secondary flex-grow-1">如何用音频播客高效输入。</p>
                <a class="btn btn-outline-success mt-auto" href="article-listening.html">阅读全文</a>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 article-item" data-category="词汇积累">
            <div class="card h-100 border-0 shadow-sm hover-lift">
              <div class="card-body d-flex flex-column">
                <span class="badge bg-info mb-2">词汇积累</span>
                <h5 class="card-title">Build Your Vocabulary</h5>
                <p class="text-body-secondary flex-grow-1">使用间隔重复记忆单词，搭配例句记忆。</p>
                <a class="btn btn-outline-info mt-auto" href="article-vocab.html">阅读全文</a>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 article-item" data-category="习惯养成">
            <div class="card h-100 border-0 shadow-sm hover-lift">
              <div class="card-body d-flex flex-column">
                <span class="badge bg-warning text-dark mb-2">习惯养成</span>
                <h5 class="card-title">Small Habits, Big Progress</h5>
                <p class="text-body-secondary flex-grow-1">用碎片时间坚持，积累带来质变。</p>
                <a class="btn btn-outline-warning mt-auto" href="article-habits.html">阅读全文</a>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 article-item" data-category="思维方式">
            <div class="card h-100 border-0 shadow-sm hover-lift">
              <div class="card-body d-flex flex-column">
                <span class="badge bg-danger mb-2">思维方式</span>
                <h5 class="card-title">Think in English</h5>
                <p class="text-body-secondary flex-grow-1">把"翻译"转成"直接思考"。</p>
                <a class="btn btn-outline-danger mt-auto" href="article-thinking.html">阅读全文</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- 页面底部 -->
  <footer class="site-footer">
    <div class="container-1200">
      <small>© <span id="year"></span> LinguaLab</small>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="main.js"></script>
  <script>
    /**
     * 页面加载完成后执行的初始化函数
     * 检查是否需要更新文章统计信息
     * 为分类导航链接添加点击事件监听器
     */
    window.addEventListener('DOMContentLoaded', function() {
      // 检查是否需要更新文章统计数据
      if (sessionStorage.getItem('updateArticleStats') === 'true') {
        updateArticleStatsDisplay();
        sessionStorage.removeItem('updateArticleStats');
      }

      // 为所有分类导航链接添加点击事件监听器
      document.querySelectorAll('.list-group-item-action').forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();

          // 移除所有分类链接的激活状态，并为当前点击的链接添加激活状态
          document.querySelectorAll('.list-group-item-action').forEach(item => {
            item.classList.remove('active');
          });
          this.classList.add('active');

          // 获取当前选择的分类
          const category = this.getAttribute('data-category');
          const articleCards = document.querySelectorAll('.article-item');

          // 根据选择的分类显示/隐藏文章卡片
          if (category === 'all') {
            articleCards.forEach(card => {
              card.style.display = 'block';
            });
          } else {
            articleCards.forEach(card => {
              const articleCategory = card.getAttribute('data-category');
              if (articleCategory === category) {
                card.style.display = 'block';
              } else {
                card.style.display = 'none';
              }
            });
          }
        });
      });
    });

    /**
     * 更新文章统计信息显示
     * 从localStorage获取文章统计数据并更新页面上的显示
     */
    function updateArticleStatsDisplay() {
      // 从localStorage获取文章统计数据，如果不存在则初始化为空对象
      const articleStats = JSON.parse(localStorage.getItem('articleStats') || '{}');

      // 如果统计数据不存在，则设置默认值
      if (!articleStats.readCount) articleStats.readCount = 12;
      if (!articleStats.wordCount) articleStats.wordCount = 45620;
      if (!articleStats.weeklyRead) articleStats.weeklyRead = 3;

      // 更新页面上的统计信息显示
      document.getElementById('readCount').innerHTML = `<span>${articleStats.readCount} 篇</span>`;
      document.getElementById('wordCount').innerHTML = `<span>${articleStats.wordCount.toLocaleString()} 字</span>`;
      document.getElementById('weeklyRead').innerHTML = `<span>${articleStats.weeklyRead} 篇</span>`;
    }
  </script>
</body>
</html>